(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38342,91791,e=>{"use strict";var t=e.i(96319),n=e.i(38340),r=e.i(42108),a=e.i(41960),i=e.i(50631),o=e.i(21720),s=e.i(48328),c=e.i(94999);function u(e){return null!==e&&("object"==typeof e||"function"==typeof e)}var l=new WeakMap;async function d(e){let t,n=new Promise((n,r)=>{for(let a of(t={reject:r,resolve:n},e)){if(!u(a)){Promise.resolve(a).then(n,r);continue}let e=l.get(a);void 0===e?((e=function(e){let t=new Set,n={deferreds:t,settled:!1};return Promise.resolve(e).then(e=>{for(let{resolve:n}of t)n(e);t.clear(),n.settled=!0},e=>{for(let{reject:n}of t)n(e);t.clear(),n.settled=!0}),n}(a)).deferreds.add(t),l.set(a,e)):e.settled?Promise.resolve(a).then(n,r):e.deferreds.add(t)}});return await n.finally(()=>{for(let n of e)u(n)&&l.get(n).deferreds.delete(t)})}e.s(["safeRace",()=>d],91791);var f=globalThis.AbortController;function g({rpc:e,rpcSubscriptions:t}){return async function({abortSignal:n,commitment:a,signature:o}){let s=new f;n.addEventListener("abort",function(){s.abort()},{signal:s.signal});let c=await t.signatureNotifications(o,{commitment:a}).subscribe({abortSignal:s.signal}),u=(async()=>{for await(let e of c)if(!e.value.err)return;else throw(0,r.getSolanaErrorFromTransactionError)(e.value.err)})(),l=(async()=>{let{value:t}=await e.getSignatureStatuses([o]).send({abortSignal:s.signal}),n=t[0];n&&n.confirmationStatus&&(0,i.commitmentComparator)(n.confirmationStatus,a)>=0||await new Promise(()=>{})})();try{return await d([u,l])}finally{s.abort()}}}async function m({abortSignal:e,commitment:t}){return await new Promise((n,r)=>{e.addEventListener("abort",e=>{clearTimeout(i),r(new DOMException(e.target.reason,"AbortError"))});let a=performance.now(),i=setTimeout(()=>{let e=performance.now()-a;r(new DOMException(`Timeout elapsed after ${e} ms`,"TimeoutError"))},"processed"===t?3e4:6e4)})}async function h(e,t,n){let{abortSignal:r,commitment:a,getRecentSignatureConfirmationPromise:i}=t;r?.throwIfAborted();let o=new f;r&&r.addEventListener("abort",()=>{o.abort()},{signal:o.signal});try{let r=n({...t,abortSignal:o.signal});return await d([i({abortSignal:o.signal,commitment:a,signature:e}),...r])}finally{o.abort()}}async function T(e){await h((0,s.getSignatureFromTransaction)(e.transaction),e,function({abortSignal:e,commitment:t,getNonceInvalidationPromise:n,transaction:r}){return[n({abortSignal:e,commitment:t,currentNonceValue:r.lifetimeConstraint.nonce,nonceAccountAddress:r.lifetimeConstraint.nonceAccountAddress})]})}async function w(e){await h((0,s.getSignatureFromTransaction)(e.transaction),e,function({abortSignal:e,commitment:t,getBlockHeightExceedencePromise:n,transaction:r}){return[n({abortSignal:e,commitment:t,lastValidBlockHeight:r.lifetimeConstraint.lastValidBlockHeight})]})}async function E(e){await h(e.signature,e,function({abortSignal:e,commitment:t,getTimeoutPromise:n}){return[n({abortSignal:e,commitment:t})]})}async function A({abortSignal:e,commitment:t,confirmSignatureOnlyTransaction:n,lamports:r,recipientAddress:a,rpc:i}){let o=await i.requestAirdrop(a,r,{commitment:t}).send({abortSignal:e});return await n({abortSignal:e,commitment:t,signature:o}),o}function p({rpc:e,rpcSubscriptions:t}){let n=g({rpc:e,rpcSubscriptions:t});async function r(e){await E({...e,getRecentSignatureConfirmationPromise:n,getTimeoutPromise:m})}return async function(t){return await A({...t,confirmSignatureOnlyTransaction:r,rpc:e})}}var S="ComputeBudget111111111111111111111111111111",_={blockhash:"11111111111111111111111111111111",lastValidBlockHeight:0n};function b(e){return(0,a.isInstructionForProgram)(e,S)&&(0,a.isInstructionWithData)(e)&&2===e.data[0]}async function y({abortSignal:e,rpc:t,transactionMessage:a,...i}){let c,u,l=(0,o.isTransactionMessageWithDurableNonceLifetime)(a);c=l||(0,o.isTransactionMessageWithBlockhashLifetime)(a)?a:(0,o.setTransactionMessageLifetimeUsingBlockhash)(_,a);let d=a.instructions.findIndex(b),f=((u=new Uint8Array(5))[0]=2,(0,n.getU32Encoder)().write(14e5,u,1),Object.freeze({data:u,programAddress:S}));if(-1===d)c=(0,o.appendTransactionMessageInstruction)(f,c);else{let e=[...c.instructions];e.splice(d,1,f),c=Object.freeze({...c,instructions:e})}let g=(0,s.compileTransaction)(c),m=(0,s.getBase64EncodedWireTransaction)(g);try{let{value:{err:n,unitsConsumed:a}}=await t.simulateTransaction(m,{...i,encoding:"base64",replaceRecentBlockhash:!l,sigVerify:!1}).send({abortSignal:e});if(null==a)throw new r.SolanaError(r.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT);let o=a>4294967295n?0xffffffff:Number(a);if(n)throw new r.SolanaError(r.SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT,{cause:n,unitsConsumed:o});return o}catch(e){if((0,r.isSolanaError)(e,r.SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT))throw e;throw new r.SolanaError(r.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT,{cause:e})}}function N({rpc:e}){return async function(t,n){return await y({...n,rpc:e,transactionMessage:t})}}async function I(e,n,r){if(0===e.length)return{};let a=await (0,t.fetchJsonParsedAccounts)(n,e,r);return(0,t.assertAccountsDecoded)(a),(0,t.assertAccountsExist)(a),a.reduce((e,t)=>({...e,[t.address]:t.data.addresses}),{})}async function O(e,t,n){let r=("addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?e.addressTableLookups:[]).map(e=>e.lookupTableAddress),{lastValidBlockHeight:a,...i}=n??{},s=r.length>0?await I(r,t,i):{};return(0,o.decompileTransactionMessage)(e,{addressesByLookupTableAddress:s,lastValidBlockHeight:a})}async function L({abortSignal:e,commitment:t,rpc:n,transaction:r,...a}){let o=(0,s.getBase64EncodedWireTransaction)(r);return await n.sendTransaction(o,{...!a?.preflightCommitment&&0>(0,i.commitmentComparator)(t,"finalized")?{...a,preflightCommitment:t}:a,encoding:"base64"}).send({abortSignal:e})}async function R({abortSignal:e,commitment:t,confirmDurableNonceTransaction:n,rpc:r,transaction:a,...i}){let o=await L({...i,abortSignal:e,commitment:t,rpc:r,transaction:a});return await n({abortSignal:e,commitment:t,transaction:a}),o}async function C({abortSignal:e,commitment:t,confirmRecentTransaction:n,rpc:r,transaction:a,...i}){let o=await L({...i,abortSignal:e,commitment:t,rpc:r,transaction:a});return await n({abortSignal:e,commitment:t,transaction:a}),o}function M({rpc:e,rpcSubscriptions:t}){let n=function({rpc:e,rpcSubscriptions:t}){return async function({abortSignal:n,commitment:a,currentNonceValue:i,nonceAccountAddress:o}){let s=new f;n.addEventListener("abort",function(){s.abort()},{signal:s.signal});let u=await t.accountNotifications(o,{commitment:a,encoding:"base64"}).subscribe({abortSignal:s.signal}),l=(0,c.getBase58Decoder)(),g=(0,c.getBase64Encoder)(),m=(async()=>{for await(let e of u){let t=function([e]){let t=g.encode(e).slice(40,72);return l.decode(t)}(e.value.data);if(t!==i)throw new r.SolanaError(r.SOLANA_ERROR__INVALID_NONCE,{actualNonceValue:t,expectedNonceValue:i})}})(),h=(async()=>{let{value:t}=await e.getAccountInfo(o,{commitment:a,dataSlice:{length:32,offset:40},encoding:"base58"}).send({abortSignal:s.signal});if(!t)throw new r.SolanaError(r.SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND,{nonceAccountAddress:o});let n=t.data[0];if(n!==i)throw new r.SolanaError(r.SOLANA_ERROR__INVALID_NONCE,{actualNonceValue:n,expectedNonceValue:i});await new Promise(()=>{})})();try{return await d([m,h])}finally{s.abort()}}}({rpc:e,rpcSubscriptions:t}),a=g({rpc:e,rpcSubscriptions:t});async function i(e){await T({...e,getNonceInvalidationPromise:n,getRecentSignatureConfirmationPromise:a})}return async function(t,n){await R({...n,confirmDurableNonceTransaction:i,rpc:e,transaction:t})}}function B({rpc:e,rpcSubscriptions:t}){let n=function({rpc:e,rpcSubscriptions:t}){return async function({abortSignal:n,commitment:a,lastValidBlockHeight:i}){n.throwIfAborted();let o=new f;async function s(){let{absoluteSlot:t,blockHeight:n}=await e.getEpochInfo({commitment:a}).send({abortSignal:o.signal});return{blockHeight:n,differenceBetweenSlotHeightAndBlockHeight:t-n}}n.addEventListener("abort",()=>{o.abort()},{signal:o.signal});try{let[e,{blockHeight:a,differenceBetweenSlotHeightAndBlockHeight:c}]=await Promise.all([t.slotNotifications().subscribe({abortSignal:o.signal}),s()]);n.throwIfAborted();let u=a;if(u<=i){let t=c;for await(let n of e){let{slot:e}=n;if(e-t>i){let{blockHeight:e,differenceBetweenSlotHeightAndBlockHeight:n}=await s();if((u=e)>i)break;t=n}}}throw n.throwIfAborted(),new r.SolanaError(r.SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED,{currentBlockHeight:u,lastValidBlockHeight:i})}finally{o.abort()}}}({rpc:e,rpcSubscriptions:t}),a=g({rpc:e,rpcSubscriptions:t});async function i(e){await w({...e,getBlockHeightExceedencePromise:n,getRecentSignatureConfirmationPromise:a})}return async function(t,n){await C({...n,confirmRecentTransaction:i,rpc:e,transaction:t})}}function U({rpc:e}){return async function(t,n){await L({...n,rpc:e,transaction:t})}}e.s(["airdropFactory",()=>p,"decompileTransactionMessageFetchingLookupTables",()=>O,"fetchAddressesForLookupTables",()=>I,"getComputeUnitEstimateForTransactionMessageFactory",()=>N,"sendAndConfirmDurableNonceTransactionFactory",()=>M,"sendAndConfirmTransactionFactory",()=>B,"sendTransactionWithoutConfirmingFactory",()=>U],38342)},25445,e=>{"use strict";var t,n,r,a,i=e.i(31157),o=e.i(38340),s=e.i(87896),c=e.i(12440),u=e.i(96319);e.i(34583),e.i(94999);var l=e.i(41960),d=e.i(54312),f=((t=f||{})[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t),g=((n=g||{})[n.Legacy=0]="Legacy",n[n.Current=1]="Current",n),m="11111111111111111111111111111111",h=((r=h||{})[r.Nonce=0]="Nonce",r),T=((a=T||{})[a.CreateAccount=0]="CreateAccount",a[a.Assign=1]="Assign",a[a.TransferSol=2]="TransferSol",a[a.CreateAccountWithSeed=3]="CreateAccountWithSeed",a[a.AdvanceNonceAccount=4]="AdvanceNonceAccount",a[a.WithdrawNonceAccount=5]="WithdrawNonceAccount",a[a.InitializeNonceAccount=6]="InitializeNonceAccount",a[a.AuthorizeNonceAccount=7]="AuthorizeNonceAccount",a[a.Allocate=8]="Allocate",a[a.AllocateWithSeed=9]="AllocateWithSeed",a[a.AssignWithSeed=10]="AssignWithSeed",a[a.TransferSolWithSeed=11]="TransferSolWithSeed",a[a.UpgradeNonceAccount=12]="UpgradeNonceAccount",a);function w(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:l.AccountRole.READONLY});let n=t.isWritable?l.AccountRole.WRITABLE:l.AccountRole.READONLY;return Object.freeze({address:function(e){if(!e)throw Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}(t.value),role:E(t.value)?(0,l.upgradeRoleToSigner)(n):n,...E(t.value)?{signer:t.value}:{}})}}function E(e){return!!e&&"object"==typeof e&&"address"in e&&(0,d.isTransactionSigner)(e)}function A(e,t){let n=t?.programAddress??m,r={payer:{value:e.payer??null,isWritable:!0},newAccount:{value:e.newAccount??null,isWritable:!0}},a={...e},l=[Number(a.space)+u.BASE_ACCOUNT_SIZE].reduce((e,t)=>e+t,0),d=w(n);return Object.freeze({...{accounts:[d(r.payer),d(r.newAccount)],programAddress:n,data:(0,s.transformEncoder)((0,i.getStructEncoder)([["discriminator",(0,o.getU32Encoder)()],["lamports",(0,o.getU64Encoder)()],["space",(0,o.getU64Encoder)()],["programAddress",(0,c.getAddressEncoder)()]]),e=>({...e,discriminator:0})).encode(a)},byteDelta:l})}function p(e,t){let n=t?.programAddress??m,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0}},a={...e},c=w(n);return{accounts:[c(r.source),c(r.destination)],programAddress:n,data:(0,s.transformEncoder)((0,i.getStructEncoder)([["discriminator",(0,o.getU32Encoder)()],["amount",(0,o.getU64Encoder)()]]),e=>({...e,discriminator:2})).encode(a)}}e.s(["getCreateAccountInstruction",()=>A,"getTransferSolInstruction",()=>p])},12260,e=>{"use strict";e.s([],11482),e.i(11482);let t={Default:"https://sender.helius-rpc.com",US_SLC:"http://slc-sender.helius-rpc.com",US_EAST:"http://ewr-sender.helius-rpc.com",EU_WEST:"http://lon-sender.helius-rpc.com",EU_CENTRAL:"http://fra-sender.helius-rpc.com",EU_NORTH:"http://ams-sender.helius-rpc.com",AP_SINGAPORE:"http://sg-sender.helius-rpc.com",AP_TOKYO:"http://tyo-sender.helius-rpc.com"},n=e=>`${t[e]}/fast`,r=e=>`${t[e]}/ping`,a=["4ACfpUFoaSD9bfPdeu6DBt89gB6ENTeHBXCAi87NhDEE","D2L6yPZ2FmmmTKPgzaMKdhu6EWZcTpLy1Vhx8uvZe7NZ","9bnz4RShgq1hAnLnZbP8kbgBg1kEmcJBYQq3gQbmnSta","5VY91ws6B2hMmBFRsXkoAAdsPHBJwRfBht4DXox3xkwn","2nyhqdwKcJZR2vcqCyrYsaPVdAnFoJjiksCXJ7hfEYgD","2q5pghRs6arqVjRvT5gfgWfWcHWmw1ZuCzphgd5KfWGJ","wyvPkWjVZz1M8fHQnMMCDTQDbkManefNNhweYk5WkcF","3KCKozbAaF75qEU33jtzozcJ29yJuaLJTy2jFdzUY8bT","4vieeGHPYPG2MmyPRcYjdiDmmhN3ww7hsFNap8pVN3Ey","4TQLFNWK8AovT1gFvda5jfw2oJeRMKEmw7aH6MGBJ3or"];var i,o=e.i(87896),s=e.i(38340),c=e.i(31157),u=e.i(21720),l=e.i(31985),d=e.i(48328),f=e.i(42108),g="ComputeBudget111111111111111111111111111111",m=((i=m||{})[i.RequestUnits=0]="RequestUnits",i[i.RequestHeapFrame=1]="RequestHeapFrame",i[i.SetComputeUnitLimit=2]="SetComputeUnitLimit",i[i.SetComputeUnitPrice=3]="SetComputeUnitPrice",i[i.SetLoadedAccountsDataSizeLimit=4]="SetLoadedAccountsDataSizeLimit",i);function h(e,t){let n=t?.programAddress??g,r={...e};return{programAddress:n,data:(0,o.transformEncoder)((0,c.getStructEncoder)([["discriminator",(0,s.getU8Encoder)()],["units",(0,s.getU32Encoder)()]]),e=>({...e,discriminator:2})).encode(r)}}function T(e){return e.programAddress===g&&2===function(e){let t="data"in e?e.data:e;if((0,o.containsBytes)(t,(0,s.getU8Encoder)().encode(0),0))return 0;if((0,o.containsBytes)(t,(0,s.getU8Encoder)().encode(1),0))return 1;if((0,o.containsBytes)(t,(0,s.getU8Encoder)().encode(2),0))return 2;if((0,o.containsBytes)(t,(0,s.getU8Encoder)().encode(3),0))return 3;if((0,o.containsBytes)(t,(0,s.getU8Encoder)().encode(4),0))return 4;throw Error("The provided instruction could not be identified as a computeBudget instruction.")}(e.data)}var w={blockhash:"11111111111111111111111111111111",lastValidBlockHeight:0n};function E(e){var t;return"lifetimeConstraint"in e?e:(t=e,(0,u.setTransactionMessageLifetimeUsingBlockhash)(w,t))}async function A({transactionMessage:e,...t}){let n=!(0,u.isDurableNonceTransaction)(e),r=(0,l.pipe)(e,E,e=>(function(e,t){let n=function(e){let t=e.instructions.findIndex(T);if(t<0)return null;let n=(0,s.getU32Decoder)().decode(e.instructions[t].data,1);return{index:t,units:n}}(t);if(!n)return(0,u.appendTransactionMessageInstruction)(h({units:14e5}),t);let{index:r,units:a}=n,i=14e5;if(i===a)return t;let o=h({units:i}),c=[...t.instructions];return c.splice(r,1,o),Object.freeze({...t,instructions:c})})(0,e),d.compileTransaction);return await p({transaction:r,replaceRecentBlockhash:n,...t})}async function p({abortSignal:e,rpc:t,transaction:n,...r}){let a=(0,d.getBase64EncodedWireTransaction)(n);try{let{value:{err:n,unitsConsumed:i}}=await t.simulateTransaction(a,{...r,encoding:"base64",sigVerify:!1}).send({abortSignal:e});if(null==i)throw new f.SolanaError(f.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT);let o=i>4294967295n?0xffffffff:Number(i);if(n)throw new f.SolanaError(f.SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT,{cause:n,unitsConsumed:o});return o}catch(e){if((0,f.isSolanaError)(e,f.SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT))throw e;throw new f.SolanaError(f.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT,{cause:e})}}let S=e=>{let t=function({rpc:e}){return async function(t,n){return await A({...n,rpc:e,transactionMessage:t})}}({rpc:e});return async(e,{min:n=1e3,bufferPct:r=.1}={})=>Math.max(n,Math.ceil(Number(await t(e))*(1+r)))};var _=e.i(54312),b=e.i(38342);let y=e=>async function(t,{confirmationStatuses:n=["confirmed","finalized"],timeout:r=6e4,interval:a=2e3,lastValidBlockHeight:i}={}){if(void 0!==i){let t=Number(await e.getBlockHeight().send());if(Number(i)-t>150)throw Error(`Provided lastValidBlockHeight (${i}) is more than 150 blocks ahead of current height (${t})`)}let o=Date.now();for(;;){if(Date.now()-o>r)throw Error(`Transaction ${t} not confirmed within ${r}â€¯ms`);if(void 0!==i){let r=Number(await e.getBlockHeight().send());if(r>Number(i)){let{value:a}=await e.getSignatureStatuses([t],{searchTransactionHistory:!1}).send(),o=a[0];if(o?.confirmationStatus&&n.includes(o.confirmationStatus))return t;throw Error(`Block height (${r}) exceeded lastValidBlockHeight (${i}) and tx not found in a confirmed block`)}}let{value:s}=await e.getSignatureStatuses([t],{searchTransactionHistory:!1}).send(),c=s[0];if(c){if(c.err)throw Error(`Transaction ${t} failed on-chain: ${JSON.stringify(c.err)}`);if(c.confirmationStatus&&n.includes(c.confirmationStatus))return t}await new Promise(e=>setTimeout(e,a))}};var N=e.i(50631),I=e.i(25445),O=e.i(10657);let L=async(e,t="Default",r=!1)=>{let a=r?`${n(t)}?swqos_only=true`:n(t),i=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now().toString(),method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0,maxRetries:0}]})});if(!i.ok){let e=await i.text();throw Error(`Sender HTTP ${i.status}: ${e.slice(0,200)}`)}let o=await i.json();if("string"==typeof o)return(0,O.signature)(o);if(o&&"object"==typeof o){if("error"in o&&o.error)throw Error(JSON.stringify(o.error));if("result"in o&&"string"==typeof o.result)return(0,O.signature)(o.result)}throw Error(`Unexpected Sender response: ${JSON.stringify(o).slice(0,200)}`)},R=async()=>{try{let e=await fetch("https://bundles.jito.wtf/api/v1/bundles/tip_floor",{cache:"no-store"}),t=await e.json(),n=t?.[0]?.landed_tips_75th_percentile;return"number"==typeof n?n:void 0}catch{return}},C=async e=>{let t=await R(),n=e?5e-4:.001;return BigInt(Math.round(1e9*Math.max(t??n,n)))},M=6e4,B=2e3,U=(e,t,n)=>{let r=S(e),{create:i}=(({raw:e,getComputeUnits:t,getPriorityFeeEstimate:n})=>({create:async({signers:r,instructions:a,version:i=0,priorityFeeCap:f,minUnits:m=1e3,bufferPct:T=.1,commitment:w="confirmed",feePayer:E})=>{let A=((e,t)=>{if(!t){if(!e.length)throw Error("createSmartTransaction: expected at least one signer.");return e[0]}if("string"!=typeof t)return t;let n=e.find(e=>e.address===t);if(!n)throw Error(`createSmartTransaction: feePayer address (${t}) was provided but no matching TransactionSigner found in 'signers'.`);return n})(r,E),p=a.filter(e=>"ComputeBudget111111111111111111111111111111"!==e.programAddress),{value:S}=await e.getLatestBlockhash({commitment:w}).send(),b=(0,l.pipe)((0,u.createTransactionMessage)({version:i}),e=>(0,_.setTransactionMessageFeePayerSigner)(A,e),e=>(0,u.setTransactionMessageLifetimeUsingBlockhash)(S,e),e=>(0,u.appendTransactionMessageInstructions)(p,e)),y=await t(b,{min:m,bufferPct:T}),N=await (0,_.signTransactionMessageWithSigners)(b),I=(0,d.getBase64EncodedWireTransaction)(N),{priorityFeeEstimate:O}=await n({transaction:I,options:{transactionEncoding:"base64",recommended:!0}});if(null==O)throw Error("Priority fee estimate not available. Error creating smart transaction.");let L=null!=f?Math.min(O,f):O,{value:R}=await e.getLatestBlockhash({commitment:w}).send(),C=(0,l.pipe)((0,u.createTransactionMessage)({version:i}),e=>(0,_.setTransactionMessageFeePayerSigner)(A,e),e=>(0,u.setTransactionMessageLifetimeUsingBlockhash)(R,e),e=>{var t;let n,r;return(0,u.prependTransactionMessageInstructions)([(t={microLamports:Number(L)},n=(void 0)??g,r={...t},{programAddress:n,data:(0,o.transformEncoder)((0,c.getStructEncoder)([["discriminator",(0,s.getU8Encoder)()],["microLamports",(0,s.getU64Encoder)()]]),e=>({...e,discriminator:3})).encode(r)}),h({units:Number(y)})],e)},e=>(0,u.appendTransactionMessageInstructions)(p,e)),M=await (0,_.signTransactionMessageWithSigners)(C),B=(0,d.getBase64EncodedWireTransaction)(M);return{signed:M,base64:B,units:Number(y),priorityFee:Number(L),lifetime:R,message:C}}}))({raw:e,getComputeUnits:r,getPriorityFeeEstimate:t}),{create:f}={create:async e=>{let t="string"==typeof e.feePayer?e.signers.find(t=>t.address===e.feePayer):e.feePayer??e.signers[0];if(!t)throw Error("createSmartTransactionWithTip: could not resolve a fee payer signer");let n=a[Math.floor(Math.random()*a.length)],r=(0,I.getTransferSolInstruction)({source:t,destination:n,amount:(0,N.lamports)(BigInt(e.tipAmount??5e5))});return i({...e,instructions:[...e.instructions,r]})}},m=y(e),T=async function(t,{lastValidBlockHeightOffset:n=150,pollTimeoutMs:r=6e4,pollIntervalMs:a=2e3,skipPreflight:i=!0,commitment:o="confirmed",maxRetries:s=0n}={}){if(n<0)throw Error("lastValidBlockHeightOffset must be a positive number");let c=await e.sendTransaction(t,{encoding:"base64",skipPreflight:i,preflightCommitment:o,maxRetries:s}).send(),u=(await e.getLatestBlockhash({commitment:o}).send()).value.lastValidBlockHeight,l=Number(await e.getBlockHeight().send()),d=Math.min(Number(u),l+n),f=Date.now();for(;;){if(Date.now()-f>r)throw Error("Transaction confirmation timed-out");let{value:t}=await e.getSignatureStatuses([c],{searchTransactionHistory:!1}).send(),n=t[0];if(n){if(n.err)throw Error(`Transaction failed on-chain: ${JSON.stringify(n.err)}`);if("confirmed"===n.confirmationStatus||"finalized"===n.confirmationStatus)return c}if(Number(await e.getBlockHeight().send())>d)throw Error("Block height exceeded lastValidBlockHeight, and the transaction failed to land on-chain");await new Promise(e=>setTimeout(e,a))}},{send:w}=(({raw:e,rpcSubscriptions:t,createSmartTransaction:n})=>({send:async({confirmCommitment:r="confirmed",maxRetries:a=0n,skipPreflight:i=!0,...o})=>{let{signed:s}=await n(o),c=(0,b.sendAndConfirmTransactionFactory)({rpc:e,rpcSubscriptions:t});return await c(s,{commitment:r,maxRetries:a,skipPreflight:i}),(0,d.getSignatureFromTransaction)(s)}}))({raw:e,rpcSubscriptions:n,createSmartTransaction:i}),{send:E}=(e=>{let{raw:t,createSmartTransactionWithTip:n}=e,r=y(t);return{send:async({region:e,swqosOnly:t=!1,pollTimeoutMs:a=M,pollIntervalMs:i=B,tipAmount:o,...s})=>{if(!e)throw Error("Sender region must be specified");let c=null!=o?BigInt(o):await C(t),u=t?500000n:1000000n;c<u&&(c=u);let{signed:l,lifetime:f}=await n({...s,tipAmount:Number(c)}),g=await L((0,d.getBase64EncodedWireTransaction)(l),e,t);return await r(g,{timeout:a,interval:i,lastValidBlockHeight:f.lastValidBlockHeight}),g}}})({raw:e,createSmartTransactionWithTip:f}),{send:A}={send:async(t,n={skipPreflight:!0})=>e.sendTransaction((e=>{if("string"==typeof e)return e;if("base64"in e&&"string"==typeof e.base64)return e.base64;if("signed"in e)return(0,d.getBase64EncodedWireTransaction)(e.signed);if("function"==typeof e.serialize)return(0,d.getBase64EncodedWireTransaction)(e);throw Error("Unsupported transaction shape passed to sendTransaction")})(t),{encoding:"base64",...n}).send()};return{getComputeUnits:r,pollTransactionConfirmation:m,broadcastTransaction:T,createSmartTransaction:i,sendSmartTransaction:w,sendTransactionWithSender:E,sendTransaction:A}},v=e=>({getComputeUnits:S(e)});e.s(["MIN_TIP_LAMPORTS_DUAL",()=>1000000n,"MIN_TIP_LAMPORTS_SWQOS",()=>500000n,"SENDER_ENDPOINTS",()=>t,"SENDER_TIP_ACCOUNTS",()=>a,"SFDP_REJECTS_URL",()=>"https://helius-docs.s3.us-east-2.amazonaws.com/sfdp_rejects.json","makeGetComputeUnits",()=>S,"makeTxHelpersEager",()=>v,"makeTxHelpersLazy",()=>U,"senderFastUrl",()=>n,"senderPingUrl",()=>r],12260)}]);